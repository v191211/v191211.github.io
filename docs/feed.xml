<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="zh"><generator uri="https://jekyllrb.com/" version="3.9.0">Jekyll</generator><link href="https://empvalley.com/feed.xml" rel="self" type="application/atom+xml" /><link href="https://empvalley.com/" rel="alternate" type="text/html" hreflang="zh" /><updated>2023-10-20T15:22:56+08:00</updated><id>https://empvalley.com/feed.xml</id><title type="html">晨霜’s Blog</title><subtitle>晨霜的个人 blog，软件开发，深圳。</subtitle><author><name>晨霜</name></author><entry><title type="html">5分钟在 Centos7 上配置 OpenVPN</title><link href="https://empvalley.com/2023/10/19/centos7-set-up-openvpn-server/" rel="alternate" type="text/html" title="5分钟在 Centos7 上配置 OpenVPN" /><published>2023-10-19T00:00:00+08:00</published><updated>2023-10-19T00:00:00+08:00</updated><id>https://empvalley.com/2023/10/19/centos7-set-up-openvpn-server</id><content type="html" xml:base="https://empvalley.com/2023/10/19/centos7-set-up-openvpn-server/">&lt;ul class=&quot;toc&quot; id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#heading-过程&quot; id=&quot;markdown-toc-heading-过程&quot;&gt;过程&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;heading-过程&quot;&gt;过程&lt;/h2&gt;

&lt;p&gt;目前 VPS 用的是 &lt;a href=&quot;https://bandwagonhost.com/&quot;&gt;bandwagonhost&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;有时间翻译。&lt;sup id=&quot;fnref:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://www.cyberciti.biz/faq/centos-7-0-set-up-openvpn-server-in-5-minutes/&quot;&gt;5分钟在 Centos7 上配置 OpenVPN&lt;/a&gt; &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;</content><author><name>晨霜</name></author><category term="技术" /><category term="VPN" /><summary type="html">过程 过程</summary></entry><entry><title type="html">Linux 查找删除大文件，释放磁盘空间</title><link href="https://empvalley.com/2023/10/19/clean-disk-space-on-centos7/" rel="alternate" type="text/html" title="Linux 查找删除大文件，释放磁盘空间" /><published>2023-10-19T00:00:00+08:00</published><updated>2023-10-19T00:00:00+08:00</updated><id>https://empvalley.com/2023/10/19/clean-disk-space-on-centos7</id><content type="html" xml:base="https://empvalley.com/2023/10/19/clean-disk-space-on-centos7/">&lt;ul class=&quot;toc&quot; id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#heading-查看磁盘占用情况&quot; id=&quot;markdown-toc-heading-查看磁盘占用情况&quot;&gt;查看磁盘占用情况&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#heading-查找大文件&quot; id=&quot;markdown-toc-heading-查找大文件&quot;&gt;查找大文件&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#heading-按文件大小删除&quot; id=&quot;markdown-toc-heading-按文件大小删除&quot;&gt;按文件大小删除&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#heading-按时间和名称删除&quot; id=&quot;markdown-toc-heading-按时间和名称删除&quot;&gt;按时间和名称删除&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;heading-查看磁盘占用情况&quot;&gt;查看磁盘占用情况&lt;sup id=&quot;fnref:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/h2&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;heading-查找大文件&quot;&gt;查找大文件&lt;/h2&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;du&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt; / &lt;span class=&quot;nt&quot;&gt;--max-depth&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1 | &lt;span class=&quot;nb&quot;&gt;sort&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-hr&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;head&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; 10
&lt;span class=&quot;c&quot;&gt;# --max-depth=1 只展示第一个层级目录或文件&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# sort -hr, h: 以人类可阅读方式展示, r: 倒叙排列&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# head -n 10 展示10条&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;heading-按文件大小删除&quot;&gt;按文件大小删除&lt;/h2&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# 测试&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# 生成指定大小的文件&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# of=文件名&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# bs后面的单位可以是 G、M等&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# seek 偏移量，例如：2，意思就是产生的文件大小是 800M * 2&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;dd &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/dev/zero &lt;span class=&quot;nv&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;test-big1 &lt;span class=&quot;nv&quot;&gt;bs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;800M &lt;span class=&quot;nv&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0 &lt;span class=&quot;nv&quot;&gt;seek&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2

&lt;span class=&quot;c&quot;&gt;# 查找指定大小范围的文件&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# . 当前目录&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# + 表示大于，- 表示小于，无符号表示等于&lt;/span&gt;
find &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-type&lt;/span&gt; f &lt;span class=&quot;nt&quot;&gt;-size&lt;/span&gt; +100M

&lt;span class=&quot;c&quot;&gt;# 删除&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# {} \; 必须有，而且 {} 和 \; 之间必须有空格&lt;/span&gt;
find &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-type&lt;/span&gt; f &lt;span class=&quot;nt&quot;&gt;-size&lt;/span&gt; +500M &lt;span class=&quot;nt&quot;&gt;-exec&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{}&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;heading-按时间和名称删除&quot;&gt;按时间和名称删除&lt;/h2&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# -mtime 参数中 0 表示修改时间在 24 小时以内， +X 表示修改时间距今天超过 X 天，-X 表示距今天少于 X 天，无符号表示等于&lt;/span&gt;
find &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-mtime&lt;/span&gt; +10 &lt;span class=&quot;nt&quot;&gt;-name&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;*.gz&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-exec&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{}&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/CL_YD/article/details/79458092&quot;&gt;Linux磁盘空间100% 查找并删除大文件&lt;/a&gt; &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;</content><author><name>晨霜</name></author><category term="技术" /><category term="Linux" /><summary type="html">查看磁盘占用情况 查看磁盘占用情况1 Linux磁盘空间100% 查找并删除大文件 &amp;#8617;</summary></entry><entry><title type="html">Centos7 编译安装 Nginx</title><link href="https://empvalley.com/2023/10/19/compile-install-nginx-on-centos7/" rel="alternate" type="text/html" title="Centos7 编译安装 Nginx" /><published>2023-10-19T00:00:00+08:00</published><updated>2023-10-19T00:00:00+08:00</updated><id>https://empvalley.com/2023/10/19/compile-install-nginx-on-centos7</id><content type="html" xml:base="https://empvalley.com/2023/10/19/compile-install-nginx-on-centos7/">&lt;ul class=&quot;toc&quot; id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#heading-说明&quot; id=&quot;markdown-toc-heading-说明&quot;&gt;说明&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#heading-过程&quot; id=&quot;markdown-toc-heading-过程&quot;&gt;过程&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;heading-说明&quot;&gt;说明&lt;/h2&gt;

&lt;p&gt;仅凭记忆记录安装步骤。&lt;/p&gt;

&lt;p&gt;以后可能会补充详细过程，更大可能不会。&lt;/p&gt;

&lt;h2 id=&quot;heading-过程&quot;&gt;过程&lt;/h2&gt;

&lt;p&gt;安装过程参考：&lt;a href=&quot;https://www.tecmint.com/install-nginx-from-source/&quot;&gt;源码安装 Nginx&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;执行配置的时候，结合了：&lt;a href=&quot;https://blog.51cto.com/kele/7230473&quot;&gt;Centos 7.9 tar包编译安装 nginx1.24.0&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;最终形成的执行配置如下：&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;nginx &lt;span class=&quot;nt&quot;&gt;--group&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;nginx &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/etc/nginx &lt;span class=&quot;nt&quot;&gt;--sbin-path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/sbin/nginx &lt;span class=&quot;nt&quot;&gt;--conf-path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/etc/nginx/nginx.conf &lt;span class=&quot;nt&quot;&gt;--error-log-path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/var/log/nginx/error.log &lt;span class=&quot;nt&quot;&gt;--http-log-path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/var/log/nginx/access.log &lt;span class=&quot;nt&quot;&gt;--pid-path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/var/run/nginx.pid &lt;span class=&quot;nt&quot;&gt;--lock-path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/var/run/nginx.lock &lt;span class=&quot;nt&quot;&gt;--with-http_ssl_module&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--with-stream&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--with-http_stub_status_module&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--with-http_gzip_static_module&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--with-mail&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;dynamic &lt;span class=&quot;nt&quot;&gt;--with-pcre&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--with-zlib&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/root/nginx/zlib-1.3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;执行配置主要是对模块的选择，模块的具体作用可参考官方手册。&lt;sup id=&quot;fnref:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://docs.nginx.com/nginx/admin-guide/installing-nginx/installing-nginx-open-source/&quot;&gt;安装 Nginx&lt;/a&gt; &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;</content><author><name>晨霜</name></author><category term="技术" /><category term="Nginx" /><summary type="html"></summary></entry><entry><title type="html">Centos7 安装 LEMP</title><link href="https://empvalley.com/2023/10/19/install-lemp-stack-on-centos7/" rel="alternate" type="text/html" title="Centos7 安装 LEMP" /><published>2023-10-19T00:00:00+08:00</published><updated>2023-10-19T00:00:00+08:00</updated><id>https://empvalley.com/2023/10/19/install-lemp-stack-on-centos7</id><content type="html" xml:base="https://empvalley.com/2023/10/19/install-lemp-stack-on-centos7/">&lt;ul class=&quot;toc&quot; id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#heading-说明&quot; id=&quot;markdown-toc-heading-说明&quot;&gt;说明&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#heading-lemp-释义&quot; id=&quot;markdown-toc-heading-lemp-释义&quot;&gt;LEMP 释义&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#heading-过程---&quot; id=&quot;markdown-toc-heading-过程---&quot;&gt;过程   &lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#heading-安装-nginx&quot; id=&quot;markdown-toc-heading-安装-nginx&quot;&gt;安装 Nginx&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#heading-安装-mysql&quot; id=&quot;markdown-toc-heading-安装-mysql&quot;&gt;安装 Mysql&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#heading-安装-php-&quot; id=&quot;markdown-toc-heading-安装-php-&quot;&gt;安装 PHP &lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#heading-配置-nginx-支持-php-程序&quot; id=&quot;markdown-toc-heading-配置-nginx-支持-php-程序&quot;&gt;配置 Nginx 支持 PHP 程序&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;heading-说明&quot;&gt;说明&lt;/h2&gt;

&lt;p&gt;仅凭记忆记录安装步骤。&lt;/p&gt;

&lt;p&gt;以后可能会补充详细过程，更大可能不会。&lt;/p&gt;

&lt;h2 id=&quot;heading-lemp-释义&quot;&gt;LEMP 释义&lt;/h2&gt;

&lt;p&gt;L: Linux 操作系统&lt;/p&gt;

&lt;p&gt;E: Nginx (引擎)，HTTP 和反向代理服务器&lt;/p&gt;

&lt;p&gt;M: MySQL 或 MariaDB 数据库&lt;/p&gt;

&lt;p&gt;P: PHP 程序语言&lt;/p&gt;

&lt;h2 id=&quot;heading-过程---&quot;&gt;过程 &lt;sup id=&quot;fnref:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt; &lt;sup id=&quot;fnref:2&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:2&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt; &lt;sup id=&quot;fnref:3&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:3&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;/h2&gt;

&lt;h3 id=&quot;heading-安装-nginx&quot;&gt;安装 Nginx&lt;/h3&gt;

&lt;p&gt;参考文章中使用的是 yum 包安装方式，也可以使用手动安装方式，参考 &lt;a href=&quot;Jekyll::Drops::SiteDrop/2023/10/19/compile-install-nginx-on-centos7&quot;&gt;Centos7 编译安装 Nginx&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;heading-安装-mysql&quot;&gt;安装 Mysql&lt;/h3&gt;

&lt;p&gt;参考文章中使用的是 MariaDB，实际安装时使用的是 Percona Server for MySQL，参考 &lt;a href=&quot;Jekyll::Drops::SiteDrop/2023/10/19/percona-server-for-mysql-on-centos7&quot;&gt;Centos7 安装 Percona Server for MySQL&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;heading-安装-php-&quot;&gt;安装 PHP &lt;sup id=&quot;fnref:4&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:4&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;&lt;/h3&gt;

&lt;p&gt;Centos7 中自带的 PHP 版本是 5.4，已经停止支持了。&lt;/p&gt;

&lt;p&gt;使用的是 Remi 仓库。&lt;/p&gt;

&lt;h3 id=&quot;heading-配置-nginx-支持-php-程序&quot;&gt;配置 Nginx 支持 PHP 程序&lt;/h3&gt;

&lt;p&gt;参考文章中配置的所有 .php 结尾的程序都使用 PHP 处理&lt;/p&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://www.hostinger.com/tutorials/how-to-install-lemp-centos7&quot;&gt;Centos7 安装 LEMP&lt;/a&gt; &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:2&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://linuxize.com/series/install-lemp-stack-on-centos-7/&quot;&gt;Centos7 安装 LEMP&lt;/a&gt; &lt;a href=&quot;#fnref:2&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:3&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-on-centos-7#step-4-configuring-nginx-to-process-php-pages&quot;&gt;Centos7 安装 LEMP&lt;/a&gt; &lt;a href=&quot;#fnref:3&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:4&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://rpms.remirepo.net/wizard/&quot;&gt;Remi RPM 仓库配置&lt;/a&gt; &lt;a href=&quot;#fnref:4&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;</content><author><name>晨霜</name></author><category term="技术" /><category term="LEMP" /><summary type="html"></summary></entry><entry><title type="html">Centos7 安装 Percona server for MySQL</title><link href="https://empvalley.com/2023/10/19/install-percona-server-for-mysql-on-centos7/" rel="alternate" type="text/html" title="Centos7 安装 Percona server for MySQL" /><published>2023-10-19T00:00:00+08:00</published><updated>2023-10-19T00:00:00+08:00</updated><id>https://empvalley.com/2023/10/19/install-percona-server-for-mysql-on-centos7</id><content type="html" xml:base="https://empvalley.com/2023/10/19/install-percona-server-for-mysql-on-centos7/">&lt;ul class=&quot;toc&quot; id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#heading-过程&quot; id=&quot;markdown-toc-heading-过程&quot;&gt;过程&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#heading-rpm-包文件-&quot; id=&quot;markdown-toc-heading-rpm-包文件-&quot;&gt;RPM 包文件 &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;heading-过程&quot;&gt;过程&lt;/h2&gt;

&lt;p&gt;使用的是 RPM 包安装方式，参考官方文档即可。&lt;sup id=&quot;fnref:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;p&gt;唯一需要特别注意的是，官方文档上面给出的下载地址是 RHEL 8 的地址，不适用于 Centos7，需要自己到下载页面选择 RHEL 7版本然后按照指令进行安装。&lt;/p&gt;

&lt;p&gt;安装时注意顺序（不注意也可，缺少某个 rpm 时会有提示），印象中顺序是：&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;rpm &lt;span class=&quot;nt&quot;&gt;-ivh&lt;/span&gt; percona-server-shared-compat percona-server-shared percona-server-devel percona-server-client percona-server-server
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;安装完后，需要更新 root 密码 &lt;sup id=&quot;fnref:2&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:2&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;h2 id=&quot;heading-rpm-包文件-&quot;&gt;RPM 包文件 &lt;sup id=&quot;fnref:3&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:3&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;/h2&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;包&lt;/th&gt;
      &lt;th&gt;内容&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;percona-server-server&lt;/td&gt;
      &lt;td&gt;服务&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;percona-server-debuginfo&lt;/td&gt;
      &lt;td&gt;debug 标志&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;percona-server-client&lt;/td&gt;
      &lt;td&gt;命令行客户端&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;percona-server-devel&lt;/td&gt;
      &lt;td&gt;头文件，使用 client 库编译文件时需要&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;percona-server-shared&lt;/td&gt;
      &lt;td&gt;client 共享库&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;percona-server-shared-compat&lt;/td&gt;
      &lt;td&gt;编译旧版本 client 库用到的共享库，包含以下包： libmysqlclient.so.12, libmysqlclient.so.14, libmysqlclient.so.15, libmysqlclient.so.16, and libmysqlclient.so.18.&lt;br /&gt;这些软件包不包含在 Red Hat Enterprise Linux 9 及其衍生版本的下载中。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;percona-server-test&lt;/td&gt;
      &lt;td&gt;一组测试 Percona Server for MySQL 的工具&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://docs.percona.com/percona-server/8.0/yum-download-rpm.html&quot;&gt;下载 RPM 包安装 Percona server for MySQL&lt;/a&gt; &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:2&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://docs.percona.com/percona-server/8.0/post-installation.html&quot;&gt;安装 Percona server for MySQL 后设置&lt;/a&gt; &lt;a href=&quot;#fnref:2&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:3&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://docs.percona.com/percona-server/8.0/yum-files.html&quot;&gt;RPM 包文件&lt;/a&gt; &lt;a href=&quot;#fnref:3&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;</content><author><name>晨霜</name></author><category term="技术" /><category term="Mysql" /><category term="Percona" /><summary type="html">过程 过程</summary></entry><entry><title type="html">Centos7 安装 PhpMyAdmin</title><link href="https://empvalley.com/2023/10/19/install-phpmyadmin-on-centos7/" rel="alternate" type="text/html" title="Centos7 安装 PhpMyAdmin" /><published>2023-10-19T00:00:00+08:00</published><updated>2023-10-19T00:00:00+08:00</updated><id>https://empvalley.com/2023/10/19/install-phpmyadmin-on-centos7</id><content type="html" xml:base="https://empvalley.com/2023/10/19/install-phpmyadmin-on-centos7/">&lt;ul class=&quot;toc&quot; id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#heading-说明&quot; id=&quot;markdown-toc-heading-说明&quot;&gt;说明&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#heading-过程&quot; id=&quot;markdown-toc-heading-过程&quot;&gt;过程&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;heading-说明&quot;&gt;说明&lt;/h2&gt;
&lt;p&gt;仅凭记忆记录安装步骤。&lt;/p&gt;

&lt;p&gt;以后可能会补充详细过程，更大可能不会。&lt;/p&gt;

&lt;h2 id=&quot;heading-过程&quot;&gt;过程&lt;/h2&gt;

&lt;p&gt;Centos7 仓库只能安装较低版本的 PhpMyAdmin，Remi 仓库提供了更高版本。&lt;/p&gt;

&lt;p&gt;首先安装 LEMP 环境，安装过程参考：&lt;a href=&quot;https://empvalley.com/2023/10/19/install-lemp-stack-on&quot;&gt;Centos7 安装 LEMP&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;安装 PHP 使用的是 Remi 仓库。&lt;sup id=&quot;fnref:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;p&gt;同时安装了 php-mbstring 和 php-gettext 扩展，PhpMyAdmin 需要使用 php-mbstring 扩展命令：&lt;sup id=&quot;fnref:2&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:2&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;php-mbstring php-gettext
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;安装 PhpMyadmin 同样使用的 Remi 仓库。&lt;sup id=&quot;fnref:3&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:3&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;p&gt;安装好后根据 &lt;a href=&quot;https://linuxize.com/post/how-to-install-phpmyadmin-with-nginx-on-centos-7/&quot;&gt;Centos7 安装 PhpMyAdmin 集成 Nginx&lt;/a&gt; 做的 nginx 反向代理配置。&lt;/p&gt;

&lt;p&gt;同时，设置了 Authentication Gate。&lt;sup id=&quot;fnref:4&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:4&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;4&lt;/a&gt;&lt;/sup&gt; &lt;sup id=&quot;fnref:5&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:5&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;5&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://rpms.remirepo.net/wizard/&quot;&gt;Remi RPM 仓库配置&lt;/a&gt; &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:2&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/30047169/phpmyadmin-error-the-mbstring-extension-is-missing-please-check-your-php-confi&quot;&gt;phpMyAdmin Error: The mbstring extension is missing&lt;/a&gt; &lt;a href=&quot;#fnref:2&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:3&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://blog.remirepo.net/post/2020/01/22/phpMyAdmin-version-5-en&quot;&gt;phpMyAdmin version 5&lt;/a&gt; &lt;a href=&quot;#fnref:3&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:4&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://www.digitalocean.com/community/tutorials/how-to-install-and-secure-phpmyadmin-with-nginx-on-a-centos-7-server&quot;&gt;安装并增强 PhpMyAdmin 安全&lt;/a&gt; &lt;a href=&quot;#fnref:4&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:5&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://community.hetzner.com/tutorials/install-and-secure-phpmyadmin-with-nginx-on-centos-7&quot;&gt;安装并增强 PhpMyAdmin 安全&lt;/a&gt; &lt;a href=&quot;#fnref:5&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;</content><author><name>晨霜</name></author><category term="技术" /><category term="PhpMyAdmin" /><summary type="html"></summary></entry><entry><title type="html">Centos7 安装 Webmin</title><link href="https://empvalley.com/2023/10/19/install-webmin-on-centos7/" rel="alternate" type="text/html" title="Centos7 安装 Webmin" /><published>2023-10-19T00:00:00+08:00</published><updated>2023-10-19T00:00:00+08:00</updated><id>https://empvalley.com/2023/10/19/install-webmin-on-centos7</id><content type="html" xml:base="https://empvalley.com/2023/10/19/install-webmin-on-centos7/">&lt;ul class=&quot;toc&quot; id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#heading-说明&quot; id=&quot;markdown-toc-heading-说明&quot;&gt;说明&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#heading-过程&quot; id=&quot;markdown-toc-heading-过程&quot;&gt;过程&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#heading-安装-lemp&quot; id=&quot;markdown-toc-heading-安装-lemp&quot;&gt;安装 LEMP&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#heading-安装-webmin&quot; id=&quot;markdown-toc-heading-安装-webmin&quot;&gt;安装 Webmin&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#heading-后记&quot; id=&quot;markdown-toc-heading-后记&quot;&gt;后记&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;heading-说明&quot;&gt;说明&lt;/h2&gt;
&lt;p&gt;计划安装 Webmin + PhpMyAdmin，PhpMyAdmin 需要 PHP 环境，所以先安装 LEMP 后才安装的 Webmin，也可以直接安装 Webmin&lt;/p&gt;

&lt;h2 id=&quot;heading-过程&quot;&gt;过程&lt;/h2&gt;
&lt;h3 id=&quot;heading-安装-lemp&quot;&gt;安装 LEMP&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://empvalley.com/2023/10/19/install-lemp-stack-on-centos7&quot;&gt;Centos7 安装 LEMP&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;heading-安装-webmin&quot;&gt;安装 Webmin&lt;/h3&gt;
&lt;p&gt;按照官网 &lt;a href=&quot;https://webmin.com/download/&quot;&gt;下载与安装&lt;/a&gt; 页面安装。&lt;/p&gt;

&lt;h2 id=&quot;heading-后记&quot;&gt;后记&lt;/h2&gt;

&lt;p&gt;管理 MySQL，不需要安装 PhpMyAdmin，Webmin 上面可以直接管理 MySQL&lt;/p&gt;</content><author><name>晨霜</name></author><category term="技术" /><category term="Webmin" /><summary type="html"></summary></entry><entry><title type="html">定位 JS 的三种方式</title><link href="https://empvalley.com/2023/10/19/three-ways-to-locate-js/" rel="alternate" type="text/html" title="定位 JS 的三种方式" /><published>2023-10-19T00:00:00+08:00</published><updated>2023-10-19T00:00:00+08:00</updated><id>https://empvalley.com/2023/10/19/three-ways-to-locate-js</id><content type="html" xml:base="https://empvalley.com/2023/10/19/three-ways-to-locate-js/">&lt;ul class=&quot;toc&quot; id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#heading-通过-initiator-定位-js&quot; id=&quot;markdown-toc-heading-通过-initiator-定位-js&quot;&gt;通过 Initiator 定位 JS&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#heading-通过-search-关键字定位-js&quot; id=&quot;markdown-toc-heading-通过-search-关键字定位-js&quot;&gt;通过 Search 关键字定位 JS&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#heading-通过-event-listeners-定位-js&quot; id=&quot;markdown-toc-heading-通过-event-listeners-定位-js&quot;&gt;通过 Event Listeners 定位 JS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;heading-通过-initiator-定位-js&quot;&gt;通过 Initiator 定位 JS&lt;/h2&gt;

&lt;p&gt;请求是由 JS 发出的。&lt;/p&gt;

&lt;p&gt;例如某些用户登录场景：&lt;/p&gt;

&lt;p&gt;请求服务器之前密码已经被 JS 加密，也就是密码由 JS 进行加密后才触发请求服务器动作。&lt;/p&gt;

&lt;p&gt;可以通过开发者工具中的 NetWork –&amp;gt; Initiator 查看是哪个 JS 文件中触发了请求服务器的动作，定位 JS。&lt;/p&gt;

&lt;p&gt;然后查询发送请求时的关键字，找到相关 JS 代码。&lt;/p&gt;

&lt;h2 id=&quot;heading-通过-search-关键字定位-js&quot;&gt;通过 Search 关键字定位 JS&lt;/h2&gt;

&lt;p&gt;通过开发者工具中的 Search（快捷键：Ctrl + Shift + F）搜索请求参数 Key 定位 JS。&lt;/p&gt;

&lt;h2 id=&quot;heading-通过-event-listeners-定位-js&quot;&gt;通过 Event Listeners 定位 JS&lt;/h2&gt;

&lt;p&gt;通过开发者工具中的 Elements –&amp;gt; Event Listeners 找到相应的监听事件，定位 JS。&lt;/p&gt;</content><author><name>晨霜</name></author><category term="技术" /><category term="JS" /><summary type="html">通过 Initiator 定位 JS 通过 Initiator 定位 JS</summary></entry><entry><title type="html">创建 tar.gz 时忽略文件和目录</title><link href="https://empvalley.com/2023/04/07/tar-excluding-certain-files-folders/" rel="alternate" type="text/html" title="创建 tar.gz 时忽略文件和目录" /><published>2023-04-07T00:00:00+08:00</published><updated>2023-04-07T00:00:00+08:00</updated><id>https://empvalley.com/2023/04/07/tar-excluding-certain-files-folders</id><content type="html" xml:base="https://empvalley.com/2023/04/07/tar-excluding-certain-files-folders/">&lt;ul class=&quot;toc&quot; id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#heading-快速使用&quot; id=&quot;markdown-toc-heading-快速使用&quot;&gt;快速使用&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#heading-1-概述&quot; id=&quot;markdown-toc-heading-1-概述&quot;&gt;1. 概述&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#heading-2-环境准备&quot; id=&quot;markdown-toc-heading-2-环境准备&quot;&gt;2. 环境准备&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#heading-3-使用--exclude-选项&quot; id=&quot;markdown-toc-heading-3-使用--exclude-选项&quot;&gt;3. 使用 -exclude 选项&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#heading-31-排除多个文件和目录&quot; id=&quot;markdown-toc-heading-31-排除多个文件和目录&quot;&gt;3.1 排除多个文件和目录&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#heading-32-排除指定扩展名文件&quot; id=&quot;markdown-toc-heading-32-排除指定扩展名文件&quot;&gt;3.2 排除指定扩展名文件&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#heading-4-使用排除文件&quot; id=&quot;markdown-toc-heading-4-使用排除文件&quot;&gt;4. 使用排除文件&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#heading-5-总结&quot; id=&quot;markdown-toc-heading-5-总结&quot;&gt;5. 总结&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;heading-快速使用&quot;&gt;快速使用&lt;sup id=&quot;fnref:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/h2&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--exclude&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'./folder'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--exclude&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'./upload/folder2'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-zcvf&lt;/span&gt; /backup/filename.tgz &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;heading-1-概述&quot;&gt;1. 概述&lt;/h2&gt;

&lt;p&gt;在 Linux 和 类 Unix 系统中，tar 命令用于打包文件。&lt;sup id=&quot;fnref:2&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:2&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;p&gt;它能打包成多种格式，像是 .tar, .tar.gz, .cpio, .tar.bz2, .zip, .rar 等。&lt;/p&gt;

&lt;p&gt;打包成 .tar.gz 格式时使用的是 gzip 算法，打包成 .tar.bz2 格式时使用 bzip 算法。&lt;/p&gt;

&lt;p&gt;这篇教程介绍了打包 .tar.gz 文件时以不同的方式排除 1 个或多个文件、目录。&lt;/p&gt;

&lt;h2 id=&quot;heading-2-环境准备&quot;&gt;2. 环境准备&lt;/h2&gt;

&lt;p&gt;使用 mkdir 命令创建名称为 parent_directory 的目录，目录中存放教程要用到的文件和目录。&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;mkdir &lt;/span&gt;parent_directory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;进入到该目录。&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;parent_directory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;使用 touch 命令创建 3 个文件：&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;touch &lt;/span&gt;file1.txt file2.txt file3.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;创建 3 个目录：&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;mkdir &lt;/span&gt;folder1 folder2 folder3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;执行完上面的命令，的目录结构如下：&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;ls
&lt;/span&gt;file1.txt file3.txt folder2
file2.txt folder1	folder3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;heading-3-使用--exclude-选项&quot;&gt;3. 使用 -exclude 选项&lt;/h2&gt;

&lt;p&gt;tar -exclude 选项基础语法：&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--exclude&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;pattern&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;options] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;archive_name] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;path]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;打包 .tar.gz 时使用 -exclude 选项跳过文件或目录。&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--exclude&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'file1.txt'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-zcvf&lt;/span&gt; backup.tar.gz &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
./
./folder3/
./file3.txt
./folder1/
./file2.txt
./folder2/
&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt;: .: file changed as we &lt;span class=&quot;nb&quot;&gt;read &lt;/span&gt;it
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;一起来分析一下这个命令：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;-z 使用 gzip 算法压缩文件和目录&lt;/li&gt;
  &lt;li&gt;-c 创建新的打包文件&lt;/li&gt;
  &lt;li&gt;-v 显示打包文件和目录的过程&lt;/li&gt;
  &lt;li&gt;-f 给打包的文件起一个名字&lt;/li&gt;
  &lt;li&gt;–exclude 打包时排除 file1.txt 文件&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;最后的 . 代表当前工作目录，里面包含了我们需要打包的文件。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;排除目录时，不能用正斜线 / 结尾。&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;我们看到消息 &quot;file changed as we read it&quot;，是因为 backup.tar.gz 文件和被打包的文件在同一目录中。&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;使用 -v 选项可以看到上面命令执行时跳过了 file1.txt 文件。&lt;/p&gt;

&lt;p&gt;使用以下命令列出 backup.tar.gz 文件中的内容而无需解压。&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-tf&lt;/span&gt; backup.tar.gz
./
./folder3/
./file3.txt
./folder1/
./file2.txt
./folder2/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;-t 选项列出打包文件中的内容。&lt;/p&gt;

&lt;h3 id=&quot;heading-31-排除多个文件和目录&quot;&gt;3.1 排除多个文件和目录&lt;/h3&gt;

&lt;p&gt;使用多个 –exclude 选项排除多个文件或目录。&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--exclude&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'file1.txt'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--exclude&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'folder1'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-zcvf&lt;/span&gt; backup.tar.gz &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
./
./folder3/
./file3.txt
./file2.txt
./folder2/
&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt;: .: file changed as we &lt;span class=&quot;nb&quot;&gt;read &lt;/span&gt;it
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;也可以用下面这种方式：&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--exclude&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;={&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;file1.txt&quot;&lt;/span&gt;, &lt;span class=&quot;s2&quot;&gt;&quot;file2.txt&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-zcvf&lt;/span&gt; backup.tar.gz &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
file3.txt
folder3
folder2
folder1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;花括号这种方式在 Bash 方法中可能会有问题， –exclude 选项可能无法正确工作。&lt;/p&gt;

&lt;h3 id=&quot;heading-32-排除指定扩展名文件&quot;&gt;3.2 排除指定扩展名文件&lt;/h3&gt;

&lt;p&gt;通过匹配正则表达式可以排除指定扩展名文件：&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--exclude&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'*.txt'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-zcvf&lt;/span&gt; backup.tar.gz &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
./
./folder3/
./folder1/
./folder2/
&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt;: .: file changed as we &lt;span class=&quot;nb&quot;&gt;read &lt;/span&gt;it
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;上面的命令跳过所有扩展名是 .txt 的文件。&lt;/p&gt;

&lt;p&gt;同样因为 backup.tar.gz 文件和被打包的文件在同一目录中，返回了 &quot;file changed as we read it&quot; 消息。&lt;/p&gt;

&lt;p&gt;tar 命令内置了一些选项可以忽略一些自动生成的文件，下面是一些选项和他们的行为：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;–exclude-backups 排除所有 backup 和 lock 文件&lt;/li&gt;
  &lt;li&gt;–exclude-cashes 排除所有有 CACHEDIR.TAG 标签的目录，不包括标签本身&lt;/li&gt;
  &lt;li&gt;–exclude-vcs 排除所有版本控制文件&lt;/li&gt;
  &lt;li&gt;–exclude-vcs-ignores 排除所有版本控制系统中忽略的文件，例如在 .gitignore 中列出的文件、目录以及扩展名都将被排除，包括 .gitignore 文件本身也会被排除。&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;heading-4-使用排除文件&quot;&gt;4. 使用排除文件&lt;/h2&gt;

&lt;p&gt;使用 tar 命令打包或解压文件时，可以提供一个文件，文件中包含需要排除的文件、目录。这个文件叫做排除文件。&lt;/p&gt;

&lt;p&gt;下面是打包时使用排除文件忽略指定文件。&lt;/p&gt;

&lt;p&gt;首先，创建一个名称为 exclude_file.txt 的排除文件：&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;touch &lt;/span&gt;exclude_file.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;接着添加需要被排除的文件或目录名，以行进行分割。&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;file1.txt
folder3
file2.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;排除包含在 exclude_file.txt 文件中的项目。&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-zcvf&lt;/span&gt; backup.tar.gz &lt;span class=&quot;nt&quot;&gt;-X&lt;/span&gt; exclude_file.txt &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
./
./folder1/
./folder2/
./exclude_file.txt
./file3.txt
&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt;: .: file changed as we &lt;span class=&quot;nb&quot;&gt;read &lt;/span&gt;it
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;使用 -X 选项接收一个排除文件。&lt;/strong&gt;它是 –exclude-from 选项的简写形式：&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-zcvf&lt;/span&gt; backup.tar.gz &lt;span class=&quot;nt&quot;&gt;--exclude-from&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;exclude_file.txt&quot;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;排除文件中同样可以使用正则表达式。&lt;/p&gt;

&lt;p&gt;改变一些 exclude_file.txt 文件内容：&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;再次打包文件：&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-zcfv&lt;/span&gt; backup.tar.gz &lt;span class=&quot;nt&quot;&gt;--exclude-from&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;exclude_file.txt&quot;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
./
./folder3/
./folder2/
./folder1/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;可以看到上面的命令跳过了扩展名是 .txt 的文件。&lt;/p&gt;

&lt;h2 id=&quot;heading-5-总结&quot;&gt;5. 总结&lt;/h2&gt;

&lt;p&gt;这篇文章介绍了打包 .tar.gz 文件时排除一些指定文件或目录的方法。&lt;/p&gt;

&lt;p&gt;打包小型目录时 –exclude 选项很实用，而打包大型目录时使用排除文件则很方便。&lt;/p&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/984204/shell-command-to-tar-directory-excluding-certain-files-folders&quot; target=&quot;_blank&quot;&gt;tar 命令打包时忽略某些文件、目录&lt;/a&gt; &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:2&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://www.baeldung.com/linux/tar-exclude-files-directories&quot; target=&quot;_blank&quot;&gt;打包 tar.gz 文件时排除指定文件和目录&lt;/a&gt; &lt;a href=&quot;#fnref:2&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;</content><author><name>晨霜</name></author><category term="技术" /><category term="Linux 命令" /><category term="tar" /><summary type="html">快速使用 快速使用1 tar 命令打包时忽略某些文件、目录 &amp;#8617;</summary></entry><entry><title type="html">使用 netstat 命令查看指定端口占用情况</title><link href="https://empvalley.com/2023/04/05/check-used-port-in-linux-by-netstat/" rel="alternate" type="text/html" title="使用 netstat 命令查看指定端口占用情况" /><published>2023-04-05T00:00:00+08:00</published><updated>2023-04-05T00:00:00+08:00</updated><id>https://empvalley.com/2023/04/05/check-used-port-in-linux-by-netstat</id><content type="html" xml:base="https://empvalley.com/2023/04/05/check-used-port-in-linux-by-netstat/">&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;netstat &lt;span class=&quot;nt&quot;&gt;-anp&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; :&amp;lt;port_number&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;-a: 监听、非监听状态的连接都显示&lt;/p&gt;

  &lt;p&gt;-n: 显示 ip 地址，而不是域名或用户名&lt;/p&gt;

  &lt;p&gt;-p: 显示连接所属 PID 和程序名称&lt;/p&gt;
&lt;/blockquote&gt;</content><author><name>晨霜</name></author><category term="技术" /><category term="Linux 命令" /><category term="netstat" /><summary type="html">$ netstat -anp | grep :&amp;lt;port_number&amp;gt; -a: 监听、非监听状态的连接都显示 -n: 显示 ip 地址，而不是域名或用户名 -p: 显示连接所属 PID 和程序名称</summary></entry></feed>